# Output File Reference - CLI & Dashboard

**Last Updated:** 2025-01-19  
**Purpose:** Comprehensive reference for all output files generated by the Literature Review pipeline (CLI and Dashboard)

---

## Overview

The Literature Review system generates two types of outputs:

1. **Analysis Outputs** - Research gap analysis results (CLI)
2. **Dashboard Workspace** - Job data and uploaded files (Dashboard)

**Git Policy:** All outputs are **gitignored** as ephemeral artifacts. See [OUTPUT_MANAGEMENT_STRATEGY.md](OUTPUT_MANAGEMENT_STRATEGY.md) for rationale.

---

## CLI Outputs - Gap Analysis

### Output Directory Structure

```
gap_analysis_output/
├── gap_analysis_report.json              # Master analysis report
├── executive_summary.md                  # Human-readable summary
│
├── waterfall_Pillar_1.html               # Visualization: Pillar 1 waterfall
├── waterfall_Pillar_2.html               # Visualization: Pillar 2 waterfall
├── waterfall_Pillar_3.html               # Visualization: Pillar 3 waterfall
├── waterfall_Pillar_4.html               # Visualization: Pillar 4 waterfall
├── waterfall_Pillar_5.html               # Visualization: Pillar 5 waterfall
├── waterfall_Pillar_6.html               # Visualization: Pillar 6 waterfall
├── waterfall_Pillar_7.html               # Visualization: Pillar 7 waterfall
│
├── _OVERALL_Research_Gap_Radar.html      # Visualization: Overall radar chart
├── _Paper_Network.html                   # Visualization: Paper relationship network
├── _Research_Trends.html                 # Visualization: Research trend analysis
│
├── proof_chain.html                      # Evidence proof chain (HTML)
├── proof_chain.json                      # Evidence proof chain (JSON)
├── sufficiency_matrix.html               # Evidence sufficiency matrix (HTML)
├── sufficiency_matrix.json               # Evidence sufficiency matrix (JSON)
├── triangulation.html                    # Evidence triangulation (HTML)
├── triangulation.json                    # Evidence triangulation (JSON)
├── evidence_decay.json                   # Evidence decay analysis
│
├── suggested_searches.json               # Research recommendations (JSON)
├── suggested_searches.md                 # Research recommendations (Markdown)
├── sub_requirement_paper_contributions.md # Paper-to-requirement mapping
├── deep_review_directions.json           # Deep review guidance
└── optimized_search_plan.json            # Optimized search strategy
```

### File Descriptions

#### Core Analysis Files

| File | Format | Size | Purpose | Key Contents |
|------|--------|------|---------|-------------|
| `gap_analysis_report.json` | JSON | ~50KB | Master analysis report | Research gaps, evidence scores, pillar analysis, requirement mapping |
| `executive_summary.md` | Markdown | ~10KB | Human-readable summary | Overview, key findings, recommendations, next steps |

#### Visualizations - Pillar Waterfalls

| File | Format | Size | Purpose | Interactive Features |
|------|--------|------|---------|---------------------|
| `waterfall_Pillar_1.html` | HTML (Plotly) | 4.6-4.8MB | Pillar 1 evidence waterfall | Hover tooltips, zoom, pan, download image |
| `waterfall_Pillar_2.html` | HTML (Plotly) | 4.6-4.8MB | Pillar 2 evidence waterfall | Hover tooltips, zoom, pan, download image |
| `waterfall_Pillar_3.html` | HTML (Plotly) | 4.6-4.8MB | Pillar 3 evidence waterfall | Hover tooltips, zoom, pan, download image |
| `waterfall_Pillar_4.html` | HTML (Plotly) | 4.6-4.8MB | Pillar 4 evidence waterfall | Hover tooltips, zoom, pan, download image |
| `waterfall_Pillar_5.html` | HTML (Plotly) | 4.6-4.8MB | Pillar 5 evidence waterfall | Hover tooltips, zoom, pan, download image |
| `waterfall_Pillar_6.html` | HTML (Plotly) | 4.6-4.8MB | Pillar 6 evidence waterfall | Hover tooltips, zoom, pan, download image |
| `waterfall_Pillar_7.html` | HTML (Plotly) | 4.6-4.8MB | Pillar 7 evidence waterfall | Hover tooltips, zoom, pan, download image |

**Pillar Definitions:**
- **Pillar 1:** Foundational Architecture
- **Pillar 2:** Technical Implementation
- **Pillar 3:** Performance & Optimization
- **Pillar 4:** Validation & Testing
- **Pillar 5:** Scalability & Integration
- **Pillar 6:** Real-World Applications
- **Pillar 7:** Future Research Directions

See [pillar_definitions.json](../pillar_definitions.json) for full definitions.

#### Visualizations - Overviews

| File | Format | Size | Purpose | Contents |
|------|--------|------|---------|----------|
| `_OVERALL_Research_Gap_Radar.html` | HTML (Plotly) | 4.6-5.2MB | Overall research gap radar chart | Multi-dimensional gap analysis across all pillars |
| `_Paper_Network.html` | HTML (Plotly) | 4.6-5.2MB | Paper relationship network graph | Citation relationships, topic clustering, influential papers |
| `_Research_Trends.html` | HTML (Plotly) | 4.6-5.2MB | Research trend analysis over time | Temporal patterns, emerging topics, publication velocity |

**Note:** All HTML visualizations are self-contained (embedded JavaScript, no external dependencies) and can be opened directly in a browser.

#### Evidence Enhancement Files

| File | Format | Size | Purpose | Contents |
|------|--------|------|---------|----------|
| `proof_chain.html` | HTML | ~200KB | Visual proof chain | Interactive evidence linking, proof steps, logical flow |
| `proof_chain.json` | JSON | ~50KB | Proof chain data | Structured evidence links, confidence scores, proof paths |
| `sufficiency_matrix.html` | HTML | ~150KB | Evidence sufficiency matrix | Coverage heatmap, gap identification, completeness scores |
| `sufficiency_matrix.json` | JSON | ~40KB | Sufficiency data | Requirement coverage, evidence counts, sufficiency metrics |
| `triangulation.html` | HTML | ~180KB | Evidence triangulation | Multi-source verification, consensus analysis, conflict detection |
| `triangulation.json` | JSON | ~45KB | Triangulation data | Source agreement, triangulation scores, method convergence |
| `evidence_decay.json` | JSON | ~30KB | Evidence decay analysis | Temporal relevance, citation recency, decay curves |

**Evidence Enhancement Features:**
- **Proof Chains:** Trace evidence from papers to requirements
- **Sufficiency Matrix:** Identify under-researched requirements
- **Triangulation:** Verify claims across multiple sources
- **Decay Analysis:** Assess evidence freshness and relevance

#### Research Guidance Files

| File | Format | Size | Purpose | Contents |
|------|--------|------|---------|----------|
| `suggested_searches.json` | JSON | ~25KB | Search recommendations (data) | Query strings, rationale, expected results, priority scores |
| `suggested_searches.md` | Markdown | ~15KB | Search recommendations (readable) | Formatted search queries, explanations, research directions |
| `sub_requirement_paper_contributions.md` | Markdown | ~30KB | Paper-to-requirement mapping | Which papers address which requirements, contribution summaries |
| `deep_review_directions.json` | JSON | ~20KB | Deep review guidance | Focus areas, methodology suggestions, review priorities |
| `optimized_search_plan.json` | JSON | ~22KB | Optimized search strategy | Search order, keyword combinations, database targets |

---

## CLI Outputs - Proof Scorecard

### Output Directory Structure

```
proof_scorecard_output/
├── proof_readiness.html                  # Visualization: Proof readiness dashboard
└── proof_scorecard.json                  # Proof scorecard data
```

### File Descriptions

| File | Format | Size | Purpose | Contents |
|------|--------|------|---------|----------|
| `proof_readiness.html` | HTML (Plotly) | ~300KB | Proof readiness dashboard | Readiness scores, bottlenecks, completion estimates |
| `proof_scorecard.json` | JSON | ~35KB | Proof scorecard data | Requirement scores, evidence quality, proof status |

**Proof Scorecard Metrics:**
- **Completeness:** % of requirements with sufficient evidence
- **Quality:** Average evidence strength across requirements
- **Readiness:** Overall readiness to publish/present findings
- **Bottlenecks:** Top requirements lacking evidence

---

## Dashboard Outputs - Workspace

### Output Directory Structure

```
workspace/
├── uploads/                              # Uploaded PDF files
│   ├── {job_id_1}.pdf                   # Original PDF for job 1
│   ├── {job_id_2}.pdf                   # Original PDF for job 2
│   └── {job_id_N}/                      # Folder upload (multiple PDFs)
│       ├── paper1.pdf
│       ├── paper2.pdf
│       └── subdir/
│           └── paper3.pdf
│
├── jobs/                                 # Job metadata
│   ├── {job_id_1}.json                  # Job 1 metadata (config, timestamps)
│   ├── {job_id_2}.json                  # Job 2 metadata
│   └── {job_id_N}.json
│
├── status/                               # Real-time status updates
│   ├── {job_id_1}.json                  # Job 1 current status
│   ├── {job_id_2}.json                  # Job 2 current status
│   └── {job_id_N}.json
│
├── logs/                                 # Execution logs
│   ├── {job_id_1}.log                   # Job 1 execution log
│   ├── {job_id_2}.log                   # Job 2 execution log
│   └── {job_id_N}.log
│
└── results/                              # Analysis results (imported or generated)
    ├── {job_id_1}/                      # Job 1 results (same structure as gap_analysis_output/)
    │   ├── gap_analysis_report.json
    │   ├── executive_summary.md
    │   ├── waterfall_Pillar_*.html
    │   └── ... (all files from gap_analysis_output/)
    │
    ├── {job_id_2}/                      # Job 2 results
    │   └── ... (same structure)
    │
    └── {job_id_imported}/               # Imported results (external gap_analysis_output/)
        └── ... (same structure)
```

### Dashboard File Descriptions

#### Uploads Directory

| Pattern | Format | Size | Purpose | Notes |
|---------|--------|------|---------|-------|
| `{job_id}.pdf` | PDF | Varies | Single file upload | Original uploaded PDF |
| `{job_id}/` | Directory | Varies | Folder upload | Contains all PDFs from folder upload (recursive) |

#### Jobs Directory

| File | Format | Size | Purpose | Contents |
|------|--------|------|---------|----------|
| `{job_id}.json` | JSON | ~5KB | Job metadata | Job configuration, timestamps, upload info, pillar mapping |

**Job Metadata Fields:**
```json
{
  "id": "job_abc123",
  "status": "completed",
  "created_at": "2025-01-19T10:30:00Z",
  "updated_at": "2025-01-19T11:45:00Z",
  "upload_type": "folder",           // "file" or "folder"
  "original_filename": "research_papers/",
  "pdf_count": 5,                     // Number of PDFs found (folder uploads)
  "pillar_mapping": { /* ... */ },
  "has_source_pdfs": true,            // Can re-run analysis
  "import_source": null,              // "imported" if external, null if dashboard-created
  "rerunnable": true                  // Has source PDFs to re-run
}
```

#### Status Directory

| File | Format | Size | Purpose | Contents |
|------|--------|------|---------|----------|
| `{job_id}.json` | JSON | ~2KB | Real-time status | Current phase, progress %, last update timestamp |

**Status Update Fields:**
```json
{
  "status": "processing",             // "queued", "processing", "completed", "failed"
  "phase": "deep_review",             // Current pipeline phase
  "progress": 65,                     // Progress percentage (0-100)
  "message": "Analyzing Pillar 3...", // Human-readable status
  "timestamp": "2025-01-19T11:30:15Z"
}
```

#### Logs Directory

| File | Format | Size | Purpose | Contents |
|------|--------|------|---------|----------|
| `{job_id}.log` | Text | Varies | Execution logs | stdout/stderr from pipeline, timestamps, error traces |

**Log Format:**
```
[2025-01-19 10:30:00] INFO: Starting gap analysis...
[2025-01-19 10:30:05] INFO: Loading paper: research.pdf
[2025-01-19 10:35:12] INFO: Pillar 1 analysis complete (score: 0.85)
[2025-01-19 10:40:30] ERROR: Failed to process citation: KeyError 'author'
...
```

#### Results Directory

| Path | Format | Size | Purpose | Notes |
|------|--------|------|---------|-------|
| `{job_id}/` | Directory | ~60MB | Complete analysis results | **Identical structure to CLI `gap_analysis_output/`** |

**Results Structure:**
Same as CLI gap_analysis_output/ (see above). Dashboard results are stored in `workspace/results/{job_id}/` instead of `gap_analysis_output/`.

**Imported vs Generated Results:**
- **Generated:** Created by dashboard pipeline execution
- **Imported:** Copied from external `gap_analysis_output/` directory
- **Difference:** Imported jobs have `"import_source": "gap_analysis_output"` in metadata

---

## File Size Summary

### CLI Outputs

| Category | File Count | Total Size | Avg Size |
|----------|-----------|------------|----------|
| **Visualizations (HTML)** | 10 files | ~48MB | 4.8MB each |
| **Data Files (JSON)** | 11 files | ~400KB | 36KB each |
| **Reports (Markdown)** | 3 files | ~55KB | 18KB each |
| **Evidence Enhancement** | 7 files | ~700KB | 100KB each |
| **TOTAL (gap_analysis_output/)** | **31 files** | **~49MB** | - |

### Dashboard Outputs

| Category | File Count (per job) | Size (per job) | Notes |
|----------|---------------------|----------------|-------|
| **Uploads** | 1-N files | Varies | Original PDFs (user-provided) |
| **Metadata** | 3 files | ~12KB | jobs/, status/, logs/ |
| **Results** | 31 files | ~49MB | Same as CLI gap_analysis_output/ |
| **TOTAL (per job)** | **35+ files** | **~49MB + PDFs** | - |

**Multi-Job Workspace:**
- 10 jobs = ~500MB (results only, excluding PDFs)
- 50 jobs = ~2.5GB (results only)
- **Recommendation:** Periodically archive old jobs

---

## Output Regeneration

### CLI - Regenerate Outputs

```bash
# Delete existing outputs
rm -rf gap_analysis_output/ proof_scorecard_output/

# Re-run pipeline
python pipeline_orchestrator.py path/to/paper.pdf

# Outputs regenerated in gap_analysis_output/
```

### Dashboard - Regenerate Outputs

**Option 1: Re-run Job (if source PDFs available)**
1. Navigate to job in dashboard
2. Click "Re-run Analysis" button
3. Outputs regenerated in `workspace/results/{job_id}/`

**Option 2: Import External Results**
1. Run CLI to generate `gap_analysis_output/`
2. In dashboard, use "Import Existing Results" feature
3. Select `gap_analysis_output/` directory
4. Results copied to `workspace/results/{job_id}/`

**Option 3: Re-upload PDFs**
1. Upload same PDFs as new job
2. Dashboard generates fresh results

---

## Output Validation

### Required Files (Minimum Viable Output)

**CLI:**
```
gap_analysis_output/
├── gap_analysis_report.json          ✅ REQUIRED (master report)
├── executive_summary.md              ✅ REQUIRED (human summary)
└── waterfall_Pillar_*.html (7 files) ⚠️  OPTIONAL (visualizations)
```

**Dashboard:**
```
workspace/jobs/{job_id}.json          ✅ REQUIRED (metadata)
workspace/results/{job_id}/
└── gap_analysis_report.json          ✅ REQUIRED (master report)
```

### Validation Script

```bash
# Check if outputs exist
if [ -f "gap_analysis_output/gap_analysis_report.json" ]; then
  echo "✅ Valid output: gap_analysis_report.json exists"
else
  echo "❌ Invalid output: missing gap_analysis_report.json"
fi

# Validate JSON structure
python -m json.tool gap_analysis_output/gap_analysis_report.json > /dev/null
if [ $? -eq 0 ]; then
  echo "✅ Valid JSON structure"
else
  echo "❌ Invalid JSON: corrupt or malformed"
fi
```

---

## Common Output Issues

### Issue 1: Missing Visualizations

**Symptom:** JSON/Markdown files exist, but no HTML visualizations

**Cause:** Plotting library (Plotly) not installed or failed silently

**Solution:**
```bash
pip install plotly kaleido
python pipeline_orchestrator.py paper.pdf
```

### Issue 2: Large HTML Files (5MB+)

**Symptom:** Waterfall HTML files are 4-5MB each

**Cause:** Plotly embeds full JavaScript library in each HTML file

**Impact:** Normal behavior, files are self-contained and portable

**Mitigation:** Use dashboard's inline viewer instead of downloading

### Issue 3: Incomplete Results Directory

**Symptom:** `gap_analysis_output/` has only 5 files instead of 31

**Cause:** Pipeline crashed mid-execution or partial run

**Solution:**
```bash
# Check logs for errors
tail -n 100 workspace/logs/{job_id}.log

# Re-run pipeline
python pipeline_orchestrator.py paper.pdf
```

### Issue 4: Dashboard Import Fails

**Symptom:** "Import failed: Invalid result structure"

**Cause:** Missing `gap_analysis_report.json` or corrupt JSON

**Solution:**
1. Verify `gap_analysis_report.json` exists
2. Validate JSON: `python -m json.tool gap_analysis_report.json`
3. Re-run CLI pipeline to regenerate

### Issue 5: Old Results Not Visible

**Symptom:** CLI results exist in `gap_analysis_output/` but not in dashboard

**Cause:** Dashboard and CLI use separate workspaces

**Solution:** Use "Import Existing Results" feature in dashboard

---

## Best Practices

### For CLI Users

1. **Archive Important Results:**
   ```bash
   # Compress outputs before re-running
   tar -czf gap_analysis_$(date +%Y%m%d_%H%M%S).tar.gz gap_analysis_output/
   
   # Store archive externally (S3, Google Drive, etc.)
   ```

2. **Clean Up Regularly:**
   ```bash
   # Remove old outputs before new runs
   rm -rf gap_analysis_output/ proof_scorecard_output/
   ```

3. **Validate Before Sharing:**
   ```bash
   # Check all required files exist
   ls gap_analysis_output/gap_analysis_report.json
   ls gap_analysis_output/executive_summary.md
   ```

### For Dashboard Users

1. **Monitor Workspace Size:**
   ```bash
   # Check total workspace size
   du -sh workspace/
   
   # Check results size
   du -sh workspace/results/
   ```

2. **Archive Old Jobs:**
   ```bash
   # Compress and remove old jobs
   tar -czf old_jobs_$(date +%Y%m%d).tar.gz workspace/results/job_old_*/
   rm -rf workspace/results/job_old_*/
   ```

3. **Use Import for External Results:**
   - Don't manually copy files to `workspace/results/`
   - Use dashboard's "Import Existing Results" feature
   - Preserves metadata and enables proper tracking

---

## File Format Details

### JSON Schema - gap_analysis_report.json

```json
{
  "research_gaps": [
    {
      "requirement_id": "REQ-001",
      "pillar": "Pillar 1",
      "gap_score": 0.75,
      "evidence": [/* ... */],
      "recommendations": "..."
    }
  ],
  "pillar_scores": {
    "Pillar 1": 0.85,
    "Pillar 2": 0.72,
    /* ... */
  },
  "overall_score": 0.78,
  "metadata": {
    "paper_count": 5,
    "analysis_date": "2025-01-19T10:30:00Z",
    "pipeline_version": "2.0.0"
  }
}
```

### Markdown Format - executive_summary.md

```markdown
# Literature Review - Executive Summary

**Paper:** Research Title
**Analysis Date:** 2025-01-19
**Overall Score:** 78%

## Key Findings

- Finding 1
- Finding 2
- Finding 3

## Pillar Analysis

### Pillar 1: Foundational Architecture (85%)
- Strong evidence for X
- Gap identified in Y

### Pillar 2: Technical Implementation (72%)
- ...

## Recommendations

1. Conduct additional research on X
2. Review recent papers on Y
3. ...
```

### HTML Format - Visualizations

Self-contained Plotly HTML with:
- Embedded JavaScript (Plotly.js library)
- Inline data (JSON)
- Interactive controls (zoom, pan, hover, download)
- No external dependencies

**Can be opened directly in any browser.**

---

## Migration & Compatibility

### Upgrading from Old Outputs

**Version 1.0 → 2.0:**
- Added: `evidence_decay.json`, `proof_chain.html/json`
- Changed: `gap_analysis_report.json` schema (added `triangulation_score`)
- Removed: `deprecated_analysis.json`

**Backward Compatibility:**
- Dashboard can import both v1.0 and v2.0 outputs
- CLI regenerates all outputs in latest format
- Old outputs remain valid (read-only)

### Cross-Platform Compatibility

| File Type | Windows | macOS | Linux | Notes |
|-----------|---------|-------|-------|-------|
| **JSON** | ✅ | ✅ | ✅ | Universal |
| **Markdown** | ✅ | ✅ | ✅ | Universal |
| **HTML** | ✅ | ✅ | ✅ | Universal (any browser) |
| **PDF** | ✅ | ✅ | ✅ | Universal |
| **Logs** | ✅ | ✅ | ✅ | Text files (UTF-8) |

**Path Separators:**
- CLI outputs use Unix paths (`/`)
- Dashboard normalizes paths for current OS
- No issues when sharing outputs across platforms

---

## See Also

- [OUTPUT_MANAGEMENT_STRATEGY.md](OUTPUT_MANAGEMENT_STRATEGY.md) - Git policy for outputs
- [DASHBOARD_CLI_PARITY.md](DASHBOARD_CLI_PARITY.md) - Feature comparison
- [ORCHESTRATOR_V2_GUIDE.md](ORCHESTRATOR_V2_GUIDE.md) - Pipeline architecture
- [DASHBOARD_GUIDE.md](DASHBOARD_GUIDE.md) - Dashboard usage guide
- [pillar_definitions.json](../pillar_definitions.json) - Pillar definitions

---

**Document Version:** 1.0.0  
**Last Updated:** 2025-01-19  
**Maintainer:** Literature Review Project Team
